<!doctype html>
<html class="no-js" lang="zh_CN">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />
<link rel="index" title="索引" href="../../../genindex.html" /><link rel="search" title="搜索" href="../../../search.html" /><link rel="next" title="Docstring Semantics" href="semantics.html" /><link rel="prev" title="Docutils 版本库" href="repository.html" />

    <link rel="shortcut icon" href="../../../_static/favicon.png"/><meta name="generator" content="sphinx-4.3.0, furo 2021.11.16"/>
        <title>Docutils Testing - docutilsx 0.0.1 文档</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=916d6ed8f59335acffa15474ff504849343d4c76" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=0af69da206d614734f649b27d4cdc2dd6c31f41d" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">docutilsx 0.0.1 文档</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">docutilsx 0.0.1 文档</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=搜索 name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">导航</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../web/index.html">Docutils：文档实用工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../web/rst.html"></a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Docutils 项目文档概述</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../_toc/info.html">项目基础</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../README.html">Docutils 0.18.1b.dev 自述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../FAQ.html"><span class="sectnum">1</span> Docutils 常见问题（Frequently Asked Questions）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../BUGS.html">Docutils 错误</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../COPYING.html">Docutils 分发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../RELEASE-NOTES.html">Docutils 发行说明</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../HISTORY.html">Docutils 历史</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../THANKS.html">致谢</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../_toc/user/index.html">用户相关</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/user/general.html">Docutils 通用</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/tools.html">Docutils Front-End Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/config.html">Docutils Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/mailing-lists.html">Docutils Mailing Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/links.html">Docutils 链接列表</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/user/write.html">写作相关</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/html.html">Docutils HTML writers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/slide-shows.html">Easy Slide Shows With reST &amp; S5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/latex.html"><span class="sectnum">1</span> Generating LaTeX with Docutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/odt.html"><span class="sectnum">1</span> Odt Writer for Docutils</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/user/rst.html">reStructuredText</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/rst/quickstart.html">ReStructuredText 初探</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/rst/cheatsheet.html">The reStructuredText Cheat Sheet: Syntax Reminders</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/user/editor.html">编辑器支持</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/emacs.html">Emacs Support for reStructuredText</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/user/other.html">其他</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/manpage.html">manpage writer for Docutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/smartquotes.html">Smart Quotes for Docutils</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../_toc/ref/index.html">所有组的参考资料</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/ref/general.html">Docutils 通用参考</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ref/doctree.html">The Docutils Document Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ref/transforms.html">Docutils Transforms</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/ref/rst.html">reStructuredText</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ref/rst/introduction.html">An Introduction to reStructuredText</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ref/rst/restructuredtext.html">reStructuredText 标记规范</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ref/rst/directives.html">reStructuredText Directives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ref/rst/roles.html">reStructuredText Interpreted Text Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ref/rst/definitions.html">reStructuredText Standard Definition Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ref/rst/mathematics.html"><span class="sectnum">1</span> LaTeX syntax for mathematics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../web/mirror/setext.html">Setext 文档镜像</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../_toc/peps.html">Python Enhancement Proposals</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../peps/pep-0256.html">PEP 256: Docstring Processing System Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peps/pep-0257.html">PEP 257: Docstring Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peps/pep-0258.html">PEP 258: Docutils Design Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peps/pep-0287.html">PEP 287: reStructuredText Docstring Format</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../_toc/api.html">API Reference Material for Client-Developers</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/publisher.html">The Docutils Publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/cmdline-tool.html">Inside A Docutils Command-Line Front-End Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/runtime-settings.html">Docutils Runtime Settings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../_toc/howto.html">Instructions for Developers</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../howto/security.html">Deploying Docutils Securely</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/html-stylesheets.html">Writing HTML (CSS) Stylesheets for Docutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/i18n.html">Docutils Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/rst-directives.html">Creating reStructuredText Directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../howto/rst-roles.html">Creating reStructuredText Interpreted Text Roles</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../../_toc/dev/index.html">Development Notes and Plans for Core-Developers</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../../_toc/dev/general.html">Docutils 通用参考</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="hacking.html">Docutils Hacker’s Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="distributing.html">Docutils Distributor’s Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="todo.html">Docutils To Do List</a></li>
<li class="toctree-l3"><a class="reference internal" href="policies.html">Docutils Project Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="website.html">Docutils Web Site</a></li>
<li class="toctree-l3"><a class="reference internal" href="release.html">Docutils Release Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="repository.html">Docutils 版本库</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Docutils Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="semantics.html">Docstring Semantics</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysource.html">Python Source Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="enthought-plan.html"><span class="sectnum">1</span> Plan for Enthought API Documentation Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="enthought-rfp.html"><span class="sectnum">1</span> Enthought API Documentation Tool</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../_toc/dev/rst.html">reStructuredText 参考</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="rst/alternatives.html">A Record of reStructuredText Syntax Alternatives</a></li>
<li class="toctree-l3"><a class="reference internal" href="rst/problems.html">Problems With StructuredText</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../_toc/sandbox.html">sandbox</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../sandbox/README.html">Sandbox 自述</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="docutils-testing">
<h1><a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a> Testing<a class="headerlink" href="#docutils-testing" title="永久链接至标题">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Authors</dt>
<dd class="field-odd"><p>Lea Wiemann &lt;<a class="reference external" href="mailto:LeWiemann%40gmail.com">LeWiemann<span>@</span>gmail<span>.</span>com</a>&gt;;
David Goodger &lt;<a class="reference external" href="mailto:goodger%40python.org">goodger<span>@</span>python<span>.</span>org</a>&gt;</p>
</dd>
<dt class="field-even">Revision</dt>
<dd class="field-even"><p>$Revision$</p>
</dd>
<dt class="field-odd">Date</dt>
<dd class="field-odd"><p>$Date$</p>
</dd>
<dt class="field-even">Copyright</dt>
<dd class="field-even"><p>This document has been placed in the public domain.</p>
</dd>
</dl>
<div class="contents topic" id="id1">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#docutils-testing" id="id9">Docutils Testing</a></p>
<ul>
<li><p><a class="reference internal" href="#running-the-test-suite" id="id10">Running the Test Suite</a></p></li>
<li><p><a class="reference internal" href="#python-versions" id="id11">Python Versions</a></p>
<ul>
<li><p><a class="reference internal" href="#testing-across-multiple-python-versions" id="id12">Testing across multiple python versions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#unit-tests" id="id13">Unit Tests</a></p>
<ul>
<li><p><a class="reference internal" href="#writing-new-tests" id="id14">Writing New Tests</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#functional-tests" id="id15">Functional Tests</a></p>
<ul>
<li><p><a class="reference internal" href="#directory-structure" id="id16">Directory Structure</a></p></li>
<li><p><a class="reference internal" href="#the-testing-process" id="id17">The Testing Process</a></p></li>
<li><p><a class="reference internal" href="#creating-new-tests" id="id18">Creating New Tests</a></p></li>
<li><p><a class="reference internal" href="#the-default-configuration-file" id="id19">The Default Configuration File</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>When adding new functionality (or fixing bugs), be sure to add test
cases to the test suite.  Practise test-first programming; it’s fun,
it’s addictive, and it works!</p>
<p>This document describes how to run the Docutils test suite, how the
tests are organized and how to add new tests or modify existing tests.</p>
<section id="running-the-test-suite">
<h2><a class="toc-backref" href="#id10">Running the Test Suite</a><a class="headerlink" href="#running-the-test-suite" title="永久链接至标题">¶</a></h2>
<p>Before checking in any changes, run the entire Docutils test suite to
be sure that you haven’t broken anything.  From a shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docutils</span><span class="o">/</span><span class="n">test</span>
<span class="o">./</span><span class="n">alltests</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>You should run this with multiple Python versions. You can use <code class="docutils literal notranslate"><span class="pre">tox</span></code> for
this purpose. To run tests against all supported versions of Python, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span>
</pre></div>
</div>
<p>To run against a specific version of Python, use the <code class="docutils literal notranslate"><span class="pre">pyNN</span></code> environment.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tox</span> <span class="o">-</span><span class="n">e</span> <span class="n">py37</span>
</pre></div>
</div>
</section>
<section id="python-versions">
<h2><a class="toc-backref" href="#id11">Python Versions</a><a class="headerlink" href="#python-versions" title="永久链接至标题">¶</a></h2>
<p>A docutils release has a commitment to support a minimum version and beyond.
Before a release is cut, tests must pass in all supported Python versions.</p>
<p>Docutils 0.16 supports Python 2.7 and Python 3.5 or later.</p>
<p>Therefore, you should install Python 2.7 as well as 3.5 up to the latest Python
(3.7 at the time of this writing) and always run the tests on all of
them (see <a class="reference internal" href="#testing-across-multiple-python-versions">Testing across multiple python versions</a>).
In a pinch, the edge cases (2.7, and 3.7) should cover most of it.</p>
<p>Good resources covering the differences between Python versions:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/whatsnew/2.7.html">What’s New in Python 2.7</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/whatsnew/3.5.html">What’s New in Python 3.5</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/whatsnew/3.6.html">What’s New in Python 3.6</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/whatsnew/3.7.html">What’s New in Python 3.7</a></p></li>
<li><p><a class="reference external" href="http://www.python.org/peps/pep-0290.html">PEP 290 - Code Migration and Modernization</a></p></li>
</ul>
<section id="testing-across-multiple-python-versions">
<h3><a class="toc-backref" href="#id12">Testing across multiple python versions</a><a class="headerlink" href="#testing-across-multiple-python-versions" title="永久链接至标题">¶</a></h3>
<p><a class="reference external" href="https://github.com/yyuu/pyenv">pyenv</a> can be installed and configured (see <a class="reference external" href="https://github.com/yyuu/pyenv#installation">installing pyenv</a>) to
test multiple python versions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># assuming your system runs 2.7.x</span>
<span class="n">pyenv</span> <span class="n">install</span> <span class="mf">3.5.7</span>
<span class="n">pyenv</span> <span class="n">install</span> <span class="mf">3.6.9</span>
<span class="n">pyenv</span> <span class="n">install</span> <span class="mf">3.7.3</span>
<span class="n">pyenv</span> <span class="k">global</span> <span class="n">system</span> <span class="mf">3.5.7</span> <span class="mf">3.6.9</span> <span class="mf">3.7.3</span>

<span class="c1"># reset your shims</span>
<span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">~/.</span><span class="n">pyenv</span><span class="o">/</span><span class="n">shims</span> <span class="o">&amp;&amp;</span> <span class="n">pyenv</span> <span class="n">rehash</span>
</pre></div>
</div>
<p>This will give you <code class="docutils literal notranslate"><span class="pre">python2.7</span></code> and <code class="docutils literal notranslate"><span class="pre">python3.5</span></code> through <code class="docutils literal notranslate"><span class="pre">python3.7</span></code>.
You will also get <code class="docutils literal notranslate"><span class="pre">pip2.7</span></code>, <code class="docutils literal notranslate"><span class="pre">pip3.5</span></code>, etc.</p>
<p>To save time, you can use <a class="reference external" href="https://tox.readthedocs.org/en/latest/">tox</a>. To install tox, run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">tox</span></code>.
Once installed, from shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docutils</span>
<span class="n">tox</span>
</pre></div>
</div>
</section>
</section>
<section id="unit-tests">
<h2><a class="toc-backref" href="#id13">Unit Tests</a><a class="headerlink" href="#unit-tests" title="永久链接至标题">¶</a></h2>
<p>Unit tests test single functions or modules (i.e. whitebox testing).</p>
<p>If you are implementing a new feature, be sure to write a test case
covering its functionality.  It happens very frequently that your
implementation (or even only a part of it) doesn’t work with an older
(or even newer) Python version, and the only reliable way to detect
those cases is using tests.</p>
<p>Often, it’s easier to write the test first and then implement the
functionality required to make the test pass.</p>
<section id="writing-new-tests">
<h3><a class="toc-backref" href="#id14">Writing New Tests</a><a class="headerlink" href="#writing-new-tests" title="永久链接至标题">¶</a></h3>
<p>When writing new tests, it very often helps to see how a similar test
is implemented.  For example, the files in the
<code class="docutils literal notranslate"><span class="pre">test_parsers/test_rst/</span></code> directory all look very similar.  So when
adding a test, you don’t have to reinvent the wheel.</p>
<p>If there is no similar test, you can write a new test from scratch
using Python’s <code class="docutils literal notranslate"><span class="pre">unittest</span></code> module.  For an example, please have a
look at the following imaginary <code class="docutils literal notranslate"><span class="pre">test_square.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /usr/bin/env python</span>

<span class="c1"># $Id$</span>
<span class="c1"># Author: Your Name &lt;your_email_address@example.org&gt;</span>
<span class="c1"># Copyright: This module has been placed in the public domain.</span>

<span class="sd">"""</span>
<span class="sd">Test module for docutils.square.</span>
<span class="sd">"""</span>

<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">docutils.square</span>


<span class="k">class</span> <span class="nc">SquareTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_square</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">docutils</span><span class="o">.</span><span class="n">square</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">docutils</span><span class="o">.</span><span class="n">square</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">docutils</span><span class="o">.</span><span class="n">square</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">49</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_square_root</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">docutils</span><span class="o">.</span><span class="n">square</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">49</span><span class="p">),</span> <span class="mi">7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">docutils</span><span class="o">.</span><span class="n">square</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">docutils</span><span class="o">.</span><span class="n">square</span><span class="o">.</span><span class="n">SquareRootError</span><span class="p">,</span>
                          <span class="n">docutils</span><span class="o">.</span><span class="n">square</span><span class="o">.</span><span class="n">sqrt</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>For more details on how to write tests, please refer to the
documentation of the <code class="docutils literal notranslate"><span class="pre">unittest</span></code> module.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Unit tests and functional test should generally set</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">settings_overrides</span><span class="p">[</span><span class="s1">'_disable_config'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>in order to be independent on the users local configuration.</p>
</div>
</section>
</section>
<section id="functional-tests">
<span id="functional"></span><h2><a class="toc-backref" href="#id15">Functional Tests</a><a class="headerlink" href="#functional-tests" title="永久链接至标题">¶</a></h2>
<p>The directory <code class="docutils literal notranslate"><span class="pre">test/functional/</span></code> contains data for functional tests.</p>
<p>Performing functional testing means testing the Docutils system as a
whole (i.e. blackbox testing).</p>
<section id="directory-structure">
<h3><a class="toc-backref" href="#id16">Directory Structure</a><a class="headerlink" href="#directory-structure" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">functional/</span></code> The main data directory.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">input/</span></code> The input files.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">some_test.txt</span></code>, for example.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">output/</span></code> The actual output.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">some_test.html</span></code>, for example.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">expected/</span></code> The expected output.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">some_test.html</span></code>, for example.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests/</span></code> The config files for processing the input files.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">some_test.py</span></code>, for example.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_default.py</span></code>, the <a class="reference internal" href="#default-configuration-file">default configuration file</a>.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="the-testing-process">
<h3><a class="toc-backref" href="#id17">The Testing Process</a><a class="headerlink" href="#the-testing-process" title="永久链接至标题">¶</a></h3>
<p>When running <code class="docutils literal notranslate"><span class="pre">test_functional.py</span></code>, all config files in
<code class="docutils literal notranslate"><span class="pre">functional/tests/</span></code> are processed.  (Config files whose names begin
with an underscore are ignored.)  The current working directory is
always Docutils’ main test directory (<code class="docutils literal notranslate"><span class="pre">test/</span></code>).</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">functional/tests/some_test.py</span></code> could read like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Source and destination file names.</span>
<span class="n">test_source</span> <span class="o">=</span> <span class="s2">"some_test.txt"</span>
<span class="n">test_destination</span> <span class="o">=</span> <span class="s2">"some_test.html"</span>

<span class="c1"># Keyword parameters passed to publish_file.</span>
<span class="n">reader_name</span> <span class="o">=</span> <span class="s2">"standalone"</span>
<span class="n">parser_name</span> <span class="o">=</span> <span class="s2">"rst"</span>
<span class="n">writer_name</span> <span class="o">=</span> <span class="s2">"html"</span>
<span class="n">settings_overrides</span><span class="p">[</span><span class="s1">'output-encoding'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'utf-8'</span>
<span class="c1"># Relative to main ``test/`` directory.</span>
<span class="n">settings_overrides</span><span class="p">[</span><span class="s1">'stylesheet_path'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'../docutils/writers/html4css1/html4css1.css'</span>
</pre></div>
</div>
<p>The two variables <code class="docutils literal notranslate"><span class="pre">test_source</span></code> and <code class="docutils literal notranslate"><span class="pre">test_destination</span></code> contain the
input file name (relative to <code class="docutils literal notranslate"><span class="pre">functional/input/</span></code>) and the output
file name (relative to <code class="docutils literal notranslate"><span class="pre">functional/output/</span></code> and
<code class="docutils literal notranslate"><span class="pre">functional/expected/</span></code>).  Note that the file names can be chosen
arbitrarily.  However, the file names in <code class="docutils literal notranslate"><span class="pre">functional/output/</span></code> <em>must</em>
match the file names in <code class="docutils literal notranslate"><span class="pre">functional/expected/</span></code>.</p>
<p>If defined, <code class="docutils literal notranslate"><span class="pre">_test_more</span></code> must be a function with the following
signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_test_more</span><span class="p">(</span><span class="n">expected_dir</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">,</span> <span class="n">test_case</span><span class="p">,</span> <span class="n">parameters</span><span class="p">):</span>
</pre></div>
</div>
<p>This function is called from the test case to perform tests beyond the
simple comparison of expected and actual output files.</p>
<p><code class="docutils literal notranslate"><span class="pre">test_source</span></code> and <code class="docutils literal notranslate"><span class="pre">test_destination</span></code> are removed from the
namespace, as are all variables whose names begin with an underscore
(“_”).  The remaining names are passed as keyword arguments to
<code class="docutils literal notranslate"><span class="pre">docutils.core.publish_file</span></code>, so you can set reader, parser, writer
and anything else you want to configure.  Note that
<code class="docutils literal notranslate"><span class="pre">settings_overrides</span></code> is already initialized as a dictionary <em>before</em>
the execution of the config file.</p>
</section>
<section id="creating-new-tests">
<h3><a class="toc-backref" href="#id18">Creating New Tests</a><a class="headerlink" href="#creating-new-tests" title="永久链接至标题">¶</a></h3>
<p>In order to create a new test, put the input test file into
<code class="docutils literal notranslate"><span class="pre">functional/input/</span></code>.  Then create a config file in
<code class="docutils literal notranslate"><span class="pre">functional/tests/</span></code> which sets at least input and output file names,
reader, parser and writer.</p>
<p>Now run <code class="docutils literal notranslate"><span class="pre">test_functional.py</span></code>.  The test will fail, of course,
because you do not have an expected output yet.  However, an output
file will have been generated in <code class="docutils literal notranslate"><span class="pre">functional/output/</span></code>.  Check this
output file for validity <a class="footnote-reference brackets" href="#id8" id="id7">1</a> and correctness.  Then copy the file to
<code class="docutils literal notranslate"><span class="pre">functional/expected/</span></code>.</p>
<p>If you rerun <code class="docutils literal notranslate"><span class="pre">test_functional.py</span></code> now, it should pass.</p>
<p>If you run <code class="docutils literal notranslate"><span class="pre">test_functional.py</span></code> later and the actual output doesn’t
match the expected output anymore, the test will fail.</p>
<p>If this is the case and you made an intentional change, check the
actual output for validity and correctness, copy it to
<code class="docutils literal notranslate"><span class="pre">functional/expected/</span></code> (overwriting the old expected output), and
commit the change.</p>
<dl class="footnote brackets">
<dt class="label" id="id8"><span class="brackets"><a class="fn-backref" href="#id7">1</a></span></dt>
<dd><p>The validity of <cite>Docutils XML</cite> can be tested with
<code class="docutils literal notranslate"><span class="pre">xmllint</span> <span class="pre">&lt;document-referencing-local-Docutils-DTD&gt;.xml</span> <span class="pre">--valid</span> <span class="pre">--noout</span></code>.</p>
</dd>
</dl>
</section>
<section id="the-default-configuration-file">
<span id="default-configuration-file"></span><h3><a class="toc-backref" href="#id19">The Default Configuration File</a><a class="headerlink" href="#the-default-configuration-file" title="永久链接至标题">¶</a></h3>
<p>The file <code class="docutils literal notranslate"><span class="pre">functional/tests/_default.py</span></code> contains default settings.
It is executed just before the actual configuration files, which has
the same effect as if the contents of <code class="docutils literal notranslate"><span class="pre">_default.py</span></code> were prepended
to every configuration file.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="semantics.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Docstring Semantics</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="repository.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Docutils 版本库</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, xinetzone |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="../../../_sources/docutils/docs/dev/testing.txt"
               rel="nofollow">
              显示源代码
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            目录
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Docutils Testing</a><ul>
<li><a class="reference internal" href="#running-the-test-suite">Running the Test Suite</a></li>
<li><a class="reference internal" href="#python-versions">Python Versions</a><ul>
<li><a class="reference internal" href="#testing-across-multiple-python-versions">Testing across multiple python versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unit-tests">Unit Tests</a><ul>
<li><a class="reference internal" href="#writing-new-tests">Writing New Tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#functional-tests">Functional Tests</a><ul>
<li><a class="reference internal" href="#directory-structure">Directory Structure</a></li>
<li><a class="reference internal" href="#the-testing-process">The Testing Process</a></li>
<li><a class="reference internal" href="#creating-new-tests">Creating New Tests</a></li>
<li><a class="reference internal" href="#the-default-configuration-file">The Default Configuration File</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/translations.js"></script>
    </body>
</html>